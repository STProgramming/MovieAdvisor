<div class="container mt-5">
    <div class="text-center mb-5">
        <h4>Inserisci una nuova recensione di un film</h4>
        <hr>
        <p>Se hai voglia di recensire lo stesso film il sistema terrà conto della recensione più attuale</p>
    </div>
    <hr>
    <app-loader *ngIf="isLoading"></app-loader>
    <ng-container *ngIf="newReviewForm.errors != null">
        <p class="text-danger">{{newReviewForm.errors}}</p>
    </ng-container>
    <form [formGroup]="newReviewForm" (ngSubmit)="onSubmit(newReviewForm)">
        <div class="row">
            <div class="col-6">
                <div class="form-group">
                    <label>Seleziona il film</label>
                    <select class="form-select" formControlName="id">
                        <option *ngFor="let movie of moviesData" [value]="movie.movieId">{{movie.movieTitle}}</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Valutazione</label>
                    <input class="form-control" type="text" formControlName="vote">
                </div>                
            </div>
            <div class="col-6">
                <div class="form-group">
                    <label>Commento sul film</label>
                    <textarea class="form-control" formControlName="description"></textarea>
                </div>      
                <div class="form-group">
                    <label>Ricordi quando?</label>
                    <input class="form-control" type="date" formControlName="when">
                </div>          
            </div>
            <button class="btn btn-primary btn-lg" type="submit" [disabled]="newReviewForm.invalid">Inserisci recensione</button>
        </div>
    </form>
</div>

