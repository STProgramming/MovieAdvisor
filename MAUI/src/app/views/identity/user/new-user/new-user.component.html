
<div class="container mt-5 vh-100">
    <div class="text-center mb-5">
        <h2 class="text-center">Crea il tuo utente</h2>
        <hr>    
    </div>
    <div *ngIf="(isAuth | async)">
        <h2 class="text-center">Crea il tuo utente</h2>
        <hr>
        <h4>Sei già autenticato</h4>
        <button class="btn btn-info btn-lg" (click)="redirectToHome()">Ritorna a home</button>
    </div>
    <div *ngIf="(isAuth | async) == false">
        <div *ngIf="isLoading">
            <app-loader></app-loader>
        </div>
        <ng-container *ngIf="newUserForm.errors != null">
            <p class="text-danger">{{newUserForm.errors}}</p>
        </ng-container>
        <form [formGroup]="newUserForm" (ngSubmit)="onSubmit(newUserForm)">
            <div class="row">
                <div class="col-6">
                    <div class="form-group">
                        <label>Nome</label>
                        <input class="form-control" type="name" formControlName="name">
                    </div>
                    <div class="form-group">
                        <label>Email</label>
                        <input class="form-control" type="email" formControlName="email">
                    </div>
                    <div class="form-group">
                        <label>Data di nascita</label>
                        <input class="form-control" type="date" formControlName="birthDate">
                    </div>   
                    <div class="form-group">
                        <label>Nazionalità</label>
                        <input class="form-control" type="text" formControlName="nationality">
                    </div>   
                    <div class="form-group">
                        <label>Password</label>
                        <input class="form-control" type="password" formControlName="password">
                    </div>               
                </div>
                <div class="col-6">
                    <div class="form-group">
                        <label>Cognome</label>
                        <input class="form-control" type="text" formControlName="lastname">
                    </div>                
                    <div class="form-group">
                        <label>Username</label>
                        <input class="form-control" type="text" formControlName="username">
                    </div>
                    <div class="form-group">
                        <label>Gender</label>
                        <input class="form-control" type="text" formControlName="gender">
                    </div>
                    <div class="form-group">
                        <label>Conferma password</label>
                        <input class="form-control" type="password" formControlName="confirm">
                    </div>
                </div>
            </div>
            <div class="row">  
                <div class="form-check">
                    <label class="form-check-label" >
                        Dichiaro di acconsentire MovieAdvisor di archiviare i dati personali secondo le norme GDPR 
                    </label>
                    <input class="form-check-input" type="checkbox" formControlName="gdpr">
                </div>                      
                <button class="btn btn-primary btn-lg" type="submit">Crea utente</button>
            </div>
        </form>
    </div>
</div>

